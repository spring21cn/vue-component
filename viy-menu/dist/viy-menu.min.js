!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.pathToRegexp=t()}(this,function(){function o(e,t){for(var n,i,r,o,a,s,u,c,l,d,h,f,m,p,g,v,w=[],V=0,b=0,S="",E=t&&t.delimiter||"/";null!=(n=C.exec(e));)i=n[0],r=n[1],o=n.index,S+=e.slice(b,o),b=o+i.length,r?S+=r[1]:(a=e[b],s=n[2],u=n[3],c=n[4],l=n[5],d=n[6],h=n[7],S&&(w.push(S),S=""),f=null!=s&&null!=a&&a!==s,m="+"===d||"*"===d,p="?"===d||"*"===d,g=n[2]||E,v=c||l,w.push({name:u||V++,prefix:s||"",delimiter:g,optional:p,repeat:m,partial:f,asterisk:!!h,pattern:v?(y=v,y.replace(/([=!:$\/()])/g,"\\$1")):h?".*":"[^"+T(g)+"]+?"}));var y;return b<e.length&&(S+=e.substr(b)),S&&w.push(S),w}function h(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function n(l){var e,d=new Array(l.length);for(e=0;e<l.length;e++)"object"==typeof l[e]&&(d[e]=new RegExp("^(?:"+l[e].pattern+")$"));return function(e,t){var n,i,r,o,a,s="",u=e||{},c=(t||{}).pretty?h:encodeURIComponent;for(n=0;n<l.length;n++)if("string"!=typeof(i=l[n])){if(null==(r=u[i.name])){if(i.optional){i.partial&&(s+=i.prefix);continue}throw new TypeError('Expected "'+i.name+'" to be defined')}if(p(r)){if(!i.repeat)throw new TypeError('Expected "'+i.name+'" to not repeat, but received `'+JSON.stringify(r)+"`");if(0===r.length){if(i.optional)continue;throw new TypeError('Expected "'+i.name+'" to not be empty')}for(a=0;a<r.length;a++){if(o=c(r[a]),!d[n].test(o))throw new TypeError('Expected all "'+i.name+'" to match "'+i.pattern+'", but received `'+JSON.stringify(o)+"`");s+=(0===a?i.prefix:i.delimiter)+o}}else{if(o=i.asterisk?encodeURI(r).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(r),!d[n].test(o))throw new TypeError('Expected "'+i.name+'" to match "'+i.pattern+'", but received "'+o+'"');s+=i.prefix+o}}else s+=i;return s}}function T(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function f(e,t){return e.keys=t,e}function m(e){return e.sensitive?"":"i"}function a(e,t,n){var i,r,o,a,s,u,c,l,d;for(p(t)||(n=t||n,t=[]),i=(n=n||{}).strict,r=!1!==n.end,o="",a=0;a<e.length;a++)"string"==typeof(s=e[a])?o+=T(s):(u=T(s.prefix),c="(?:"+s.pattern+")",t.push(s),s.repeat&&(c+="(?:"+u+c+")*"),o+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")");return l=T(n.delimiter||"/"),d=o.slice(-l.length)===l,i||(o=(d?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=r?"$":i&&d?"":"(?="+l+"|$)",f(new RegExp("^"+o,m(n)),t)}function s(e,t,n){return p(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n,i=e.source.match(/\((?!\?)/g);if(i)for(n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(e,t)}(e,t):p(e)?function(e,t,n){var i,r=[];for(i=0;i<e.length;i++)r.push(s(e[i],t,n).source);return f(new RegExp("(?:"+r.join("|")+")",m(n)),t)}(e,t,n):(i=t,a(o(e,r=n),i,r));var i,r}var p=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},C=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");return s.parse=o,s.compile=function(e,t){return n(o(e,t))},s.tokensToFunction=n,s.tokensToRegExp=a,s}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.path=t()}(this,function(){function o(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}return{resolve:function(){var e,t,n,i="",r=!1;for(t=arguments.length-1;-1<=t&&!r;t--)o(n=0<=t?arguments[t]:(void 0===e&&(e="/"),e)),0!==n.length&&(i=n+"/"+i,r=47===n.charCodeAt(0));return i=function(e,t){var n,i,r,o="",a=0,s=-1,u=0;for(i=0;i<=e.length;++i){if(i<e.length)n=e.charCodeAt(i);else{if(47===n)break;n=47}if(47===n){if(s===i-1||1===u);else if(s!==i-1&&2===u){if(o.length<2||2!==a||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(2<o.length){if((r=o.lastIndexOf("/"))!==o.length-1){a=-1===r?(o="",0):(o=o.slice(0,r)).length-1-o.lastIndexOf("/"),s=i,u=0;continue}}else if(2===o.length||1===o.length){o="",s=i,u=a=0;continue}t&&(0<o.length?o+="/..":o="..",a=2)}else 0<o.length?o+="/"+e.slice(s+1,i):o=e.slice(s+1,i),a=i-s-1;s=i,u=0}else 46===n&&-1!==u?++u:u=-1}return o}(i,!r),r?0<i.length?"/"+i:"/":0<i.length?i:"."}}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.NProgress=t()}(this,function(){function n(e,t,n){return e<t?t:n<e?n:e}function l(e){return 100*(-1+e)}function r(e,t){return 0<=("string"==typeof e?e:o(e)).indexOf(" "+t+" ")}function a(e,t){var n=o(e),i=n+t;r(n,t)||(e.className=i.substring(1))}function t(e,t){var n,i=o(e);r(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function o(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function s(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var d,i,h,u,c,f={version:"0.2.0"};return d=f.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'},f.configure=function(e){var t,n;for(t in e)void 0!==(n=e[t])&&e.hasOwnProperty(t)&&(d[t]=n);return this},f.status=null,f.set=function(o){var a,s,u,c,e=f.isStarted();return o=n(o,d.minimum,1),f.status=1===o?null:o,a=f.render(!e),s=a.querySelector(d.barSelector),u=d.speed,c=d.easing,a.offsetWidth,i(function(e){var t,n,i,r;""===d.positionUsing&&(d.positionUsing=f.getPositioningCSS()),h(s,(t=o,n=u,i=c,(r="translate3d"===d.positionUsing?{transform:"translate3d("+l(t)+"%,0,0)"}:"translate"===d.positionUsing?{transform:"translate("+l(t)+"%,0)"}:{"margin-left":l(t)+"%"}).transition="all "+n+"ms "+i,r)),1===o?(h(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout(function(){h(a,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){f.remove(),e()},u)},u)):setTimeout(e,u)}),this},f.isStarted=function(){return"number"==typeof f.status},f.start=function(){f.status||f.set(0);var e=function(){setTimeout(function(){f.status&&(f.trickle(),e())},d.trickleSpeed)};return d.trickle&&e(),this},f.done=function(e){return e||f.status?f.inc(.3+.5*Math.random()).set(1):this},f.inc=function(e){var t=f.status;return t?("number"!=typeof e&&(e=(1-t)*n(Math.random()*t,.1,.95)),t=n(t+e,0,.994),f.set(t)):f.start()},f.trickle=function(){return f.inc(Math.random()*d.trickleRate)},c=u=0,f.promise=function(e){return e&&"resolved"!==e.state()&&(0===c&&f.start(),u++,c++,e.always(function(){0==--c?(u=0,f.done()):f.set((u-c)/u)})),this},f.render=function(e){var t,n,i,r,o;return f.isRendered()?document.getElementById("nprogress"):(a(document.documentElement,"nprogress-busy"),(t=document.createElement("div")).id="nprogress",t.innerHTML=d.template,i=t.querySelector(d.barSelector),r=e?"-100":l(f.status||0),o=document.querySelector(d.parent),h(i,{transition:"all 0 linear",transform:"translate3d("+r+"%,0,0)"}),d.showSpinner||(n=t.querySelector(d.spinnerSelector))&&s(n),o!=document.body&&a(o,"nprogress-custom-parent"),o.appendChild(t),t)},f.remove=function(){t(document.documentElement,"nprogress-busy"),t(document.querySelector(d.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&s(e)},f.isRendered=function(){return!!document.getElementById("nprogress")},f.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},i=function(){function t(){var e=n.shift();e&&e(t)}var n=[];return function(e){n.push(e),1==n.length&&t()}}(),h=function(){function i(e){return e=e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()}),t[e]||(t[e]=function(e){var t,n,i,r=document.body.style;if(e in r)return e;for(n=a.length,i=e.charAt(0).toUpperCase()+e.slice(1);n--;)if((t=a[n]+i)in r)return t;return e}(e))}function o(e,t,n){t=i(t),e.style[t]=n}var a=["Webkit","O","Moz","ms"],t={};return function(e,t){var n,i,r=arguments;if(2==r.length)for(n in t)void 0!==(i=t[n])&&t.hasOwnProperty(n)&&o(e,n,i);else o(e,r[1],r[2])}}(),f});var locales={zh:{menu:{tagsView:{refresh:"刷新",close:"关闭",closeOthers:"关闭其它",closeAll:"关闭所有"},navbar:{logOut:"退出登录",dashboard:"首页",screenfull:"全屏"}},title:{noName:"未命名"}},en:{menu:{tagsView:{refresh:"Refresh",close:"Close",closeOthers:"Close Others",closeAll:"Close All"},navbar:{logOut:"Log Out",dashboard:"Dashboard",screenfull:"Full Screen"}},title:{noName:"Untitled"}},ja:{menu:{tagsView:{refresh:"リフレッシュ",close:"閉じる",closeOthers:"その他を閉じる",closeAll:"すべて閉じる"},navbar:{logOut:"ログアウト",dashboard:"ダッシュボード",screenfull:"フルスクリーン"}},title:{noName:"Untitled"}}};VueUtil.setLocale("zh",locales.zh),VueUtil.setLocale("en",locales.en),VueUtil.setLocale("ja",locales.ja),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.MenuUtils=t()}(this,function(){var t="Admin-Token";return Vue.menu={push:function(e,t,n){router.push(e,t,n);var i=MenuStore.getters.visitedViews.filter(function(e){return e.path===router.currentRoute.path});0<i.length&&(i[0].params=e.params)}},{generateTitle:function(e){return e||(e="noName"),Vue.t(e)},isExternal:function(e){return/^(https?:|mailto:|tel:)/.test(e)},getToken:function(){return VueUtil.getCookie(t)},setToken:function(e){return VueUtil.setCookie(t,e)},removeToken:function(){return VueUtil.removeCookie(t)},toConsumableArray:function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},openMenuItemInWindow:function(e){return window.open(e.getAttribute("href"),"",e.getAttribute("features")),!1}}}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.MenuStore=t()}(this,function(){var r=MenuUtils.toConsumableArray,e={state:{sidebar:{opened:!+VueUtil.getCookie("sidebarStatus"),withoutAnimation:!1},device:"desktop",language:VueUtil.getCookie("language")||"zh",height:window.innerHeight},mutations:{TOGGLE_SIDEBAR:function(e){e.sidebar.opened?VueUtil.setCookie("sidebarStatus",1):VueUtil.setCookie("sidebarStatus",0),e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1},CLOSE_SIDEBAR:function(e,t){VueUtil.setCookie("sidebarStatus",1),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t},SET_LANGUAGE:function(e,t){e.language=t,VueUtil.setCookie("language",t)},SET_HEIGHT:function(e,t){e.height=t}},actions:{toggleSideBar:function(e){(0,e.commit)("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){(0,e.commit)("CLOSE_SIDEBAR",t.withoutAnimation)},toggleDevice:function(e,t){(0,e.commit)("TOGGLE_DEVICE",t)},setLanguage:function(e,t){(0,e.commit)("SET_LANGUAGE",t)},setHeight:function(e,t){(0,e.commit)("SET_HEIGHT",t)}}};function o(e,i){var r=[];return e.forEach(function(e){var t={};if(t.path=i?e.code:"/"+e.code,t.name=e.code,t.hidden=e.hidden,t.alwaysShow=e.alwaysShow,t.redirect=e.redirect,t.props=e.props,t.meta={features:e.features,title:e.title,target:e.target,icon:e.icon,id:e.id,iconColor:e.iconColor,noCache:e.noCache,breadcrumb:e.breadcrumb,type:e.type},e.children&&(e.url=""),e.url){var n={path:t.path,component:Layout,children:[]};if("link"===t.meta.type)return n.children.push({path:e.url,meta:t.meta}),r.push(n),!0;if("iframe"!==t.meta.type?t.component=VueLoader(e.url):t.meta.url=e.url,!i&&!e.children)return n.path+="Parent",n.children.push(t),r.push(n),!0}else i&&e.children?t.component={template:"<router-view></router-view>",name:t.name}:t.component=Layout;e.children&&(t.children=o(e.children,!0)),r.push(t)}),r}var t={state:{routers:constantRouterMap,addRouters:[]},mutations:{SET_ROUTERS:function(e,t){e.addRouters=t,e.routers=constantRouterMap.concat(t)}},actions:{GenerateRoutes:function(e,t){var n=e.commit;return new Promise(function(t){new Promise(function(t,e){var n=Vue.config.menu.data;if(n)if("function"==typeof n){var i=n(MenuStore.getters.name);"function"==typeof i.then?i.then(function(e){t(o(e))}).catch(function(e){console.error("vue.config.menu.data error! \r\n\r\n"+e)}):t(o(i))}else t(o(n));else t([])}).then(function(e){e.push({path:"*",redirect:"/404",hidden:!0}),n("SET_ROUTERS",e),t()})})}}},n={state:{visitedViews:[],cachedViews:[],init:!1},mutations:{ADD_VISITED_VIEW:function(e,t){e.visitedViews.some(function(e){return e.path===t.path})||e.visitedViews.push(VueUtil.merge({},t,{title:t.meta.title}))},ADD_CACHED_VIEW:function(e,t){-1<e.cachedViews.indexOf(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:function(e,t){for(var n=0;n<e.visitedViews.length;n++){if(e.visitedViews[n].path===t.path){e.visitedViews.splice(n,1);break}}},DEL_CACHED_VIEW:function(e,t){for(var n=0;n<e.cachedViews.length;n++)if(e.cachedViews[n]===t.name){e.cachedViews.splice(n,1);break}},DEL_OTHERS_VISITED_VIEWS:function(e,t){for(var n=e.visitedViews,i=0;i<n.length;i++){if(n[i].path===t.path){e.visitedViews=e.visitedViews.slice(i,i+1);break}}},DEL_OTHERS_CACHED_VIEWS:function(e,t){for(var n=0;n<e.cachedViews.length;n++)if(e.cachedViews[n]===t.name){e.cachedViews=e.cachedViews.slice(n,n+1);break}},DEL_ALL_VISITED_VIEWS:function(e){e.visitedViews=[]},DEL_ALL_CACHED_VIEWS:function(e){e.cachedViews=[]},UPDATE_VISITED_VIEW:function(e,t){for(var n=0;n<e.visitedViews.length;n++){var i=e.visitedViews[n];if(i.path===t.path){i=VueUtil.merge(i,t);break}}},INIT_TAGSVIEW:function(e){e.init=!0}},actions:{addView:function(e,t){var n=e.dispatch;n("addVisitedView",t),n("addCachedView",t)},addVisitedView:function(e,t){(0,e.commit)("ADD_VISITED_VIEW",t)},addCachedView:function(e,t){(0,e.commit)("ADD_CACHED_VIEW",t)},delView:function(e,t){var n=e.dispatch,i=e.state;return new Promise(function(e){n("delVisitedView",t),n("delCachedView",t),e({visitedViews:[].concat(r(i.visitedViews)),cachedViews:[].concat(r(i.cachedViews))})})},delVisitedView:function(e,t){var n=e.commit,i=e.state;return new Promise(function(e){n("DEL_VISITED_VIEW",t),e([].concat(r(i.visitedViews)))})},delCachedView:function(e,t){var n=e.commit,i=e.state;return new Promise(function(e){n("DEL_CACHED_VIEW",t),e([].concat(r(i.cachedViews)))})},delOthersViews:function(e,t){var n=e.dispatch,i=e.state;return new Promise(function(e){n("delOthersVisitedViews",t),n("delOthersCachedViews",t),e({visitedViews:[].concat(r(i.visitedViews)),cachedViews:[].concat(r(i.cachedViews))})})},delOthersVisitedViews:function(e,t){var n=e.commit,i=e.state;return new Promise(function(e){n("DEL_OTHERS_VISITED_VIEWS",t),e([].concat(r(i.visitedViews)))})},delOthersCachedViews:function(e,t){var n=e.commit,i=e.state;return new Promise(function(e){n("DEL_OTHERS_CACHED_VIEWS",t),e([].concat(r(i.cachedViews)))})},delAllViews:function(e,t){var n=e.dispatch,i=e.state;return new Promise(function(e){n("delAllVisitedViews",t),n("delAllCachedViews",t),e({visitedViews:[].concat(r(i.visitedViews)),cachedViews:[].concat(r(i.cachedViews))})})},delAllVisitedViews:function(e){var t=e.commit,n=e.state;return new Promise(function(e){t("DEL_ALL_VISITED_VIEWS"),e([].concat(r(n.visitedViews)))})},delAllCachedViews:function(e){var t=e.commit,n=e.state;return new Promise(function(e){t("DEL_ALL_CACHED_VIEWS"),e([].concat(r(n.cachedViews)))})},updateVisitedView:function(e,t){(0,e.commit)("UPDATE_VISITED_VIEW",t)},initTagsView:function(e){(0,e.commit)("INIT_TAGSVIEW")}}},i={state:{user:"",status:"",code:"",name:"",avatar:"",introduction:"",setting:{}},mutations:{SET_CODE:function(e,t){e.code=t},SET_INTRODUCTION:function(e,t){e.introduction=t},SET_SETTING:function(e,t){e.setting=t},SET_STATUS:function(e,t){e.status=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t}},actions:{GetUserInfo:function(e){var i=e.commit;e.state;return new Promise(function(t,n){Vue.config.menu.getUserInfo().then(function(e){e||n("Verification failed, please login again."),i("SET_NAME",e.name),i("SET_AVATAR",e.avatar),i("SET_INTRODUCTION",e.introduction),t(e)})}).catch(function(){i("SET_NAME","Null")})},LogOut:function(e){return new Promise(function(e,t){Vue.config.menu.logOut().then(function(){e()}).catch(function(){t()})})}}};return new Vuex.Store({modules:{app:e,permission:t,tagsView:n,user:i},getters:{sidebar:function(e){return e.app.sidebar},language:function(e){return e.app.language},device:function(e){return e.app.device},visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},initTagsView:function(e){return e.tagsView.init},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},introduction:function(e){return e.user.introduction},status:function(e){return e.user.status},setting:function(e){return e.user.setting},permission_routers:function(e){return e.permission.routers},addRouters:function(e){return e.permission.addRouters},height:function(e){return e.app.height}}})}),function(e,t){"function"==typeof define&&define.amd?define(["Vue"],t):t(e.Vue)}(this,function(i){var e={name:"Breadcrumb",template:'<vue-breadcrumb class="app-breadcrumb breadcrumb-container" separator="/"><vue-breadcrumb-item v-for="(item,index) in levelList" v-if="item.meta.title&&item.meta.breadcrumb!==false" :key="item.path"><span v-if="item.redirect===\'noredirect\'||index==levelList.length-1" class="no-redirect">{{ generateTitle(item.meta.title) }}</span><router-link v-else :to="item.redirect||item.path">{{ generateTitle(item.meta.title) }}</router-link></vue-breadcrumb-item></vue-breadcrumb>',data:function(){return{levelList:null,dashboardTitle:""}},watch:{$route:function(){this.getBreadcrumb()}},created:function(){this.getDashboardTitle(),this.getBreadcrumb()},methods:{generateTitle:MenuUtils.generateTitle,getDashboardTitle:function(){var t;this.dashboardTitle||(MenuStore.state.permission.routers.forEach(function(e){if(e.children&&1==e.children.length&&"/dashboard"==e.children[0].path.toLocaleLowerCase())return t=e,!1}),this.dashboardTitle=t&&t.children[0].meta?t.children[0].meta.title:"dashboard")},getBreadcrumb:function(){var n=this.$route.params,e=this.$route.matched.filter(function(e){if(e.name){var t=pathToRegexp.compile(e.path);return e.path=t(n),!0}}),t=e[0];t&&t.name.trim().toLocaleLowerCase()!=="Dashboard".toLocaleLowerCase()&&(e=(!1===i.config.menu.breadcrumbFromDashboard?[]:[{path:"/dashboard",meta:{title:this.dashboardTitle}}]).concat(e)),this.levelList=e}}};i.component(e.name,e);var t={name:"Hamburger",template:'<div class="hamburger-container"><i :class="{\'is-active\':sidebar.opened}" class="hamburger vue-icon-menu" @click="toggleClick"></i></div>',computed:{sidebar:function(){return MenuStore.getters.sidebar}},methods:{toggleClick:function(){MenuStore.dispatch("toggleSideBar")}}};i.component(t.name,t);var n={name:"LangSelect",template:'<vue-dropdown trigger="click" class="international" @command="handleSetLanguage"><div><i class="right-menu-icon international-icon vue-icon-language"></i></div><vue-dropdown-menu slot="dropdown"><vue-dropdown-item v-for="lang in languages" :key="lang.code" :disabled="language===lang.code" :command="lang.code">{{lang.name}}</vue-dropdown-item></vue-dropdown-menu></vue-dropdown>',computed:{language:function(){return MenuStore.getters.language}},props:{languages:{type:Array,required:!0}},methods:{handleSetLanguage:function(e){VueUtil.setLang(e),MenuStore.dispatch("setLanguage",e),this.$notify({message:"Switch Language Success",type:"success",position:"top-center"})}}};i.component(n.name,n);var r={name:"Screenfull",template:'<vue-tooltip :content="$t(\'menu.navbar.screenfull\')" effect="dark" placement="bottom"><div><i  class="right-menu-icon vue-icon-enlarge" @click="click"></i></div></vue-tooltip>',data:function(){return{isFullscreen:!1}},methods:{click:function(){VueUtil.screenfull()}}};i.component(r.name,r);var o={name:"ScrollPane",template:'<vue-scrollbar ref="scrollContainer" :vertical="false" class="scroll-container" @wheel.native.prevent="handleScroll"><slot/></vue-scrollbar>',data:function(){return{left:0}},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,n=this.$refs.scrollContainer.$refs.wrap;n.scrollLeft=n.scrollLeft-t/4},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el.offsetWidth,n=this.$refs.scrollContainer.$refs.wrap,i=this.$parent.$refs.tag,r=null,o=null,a=null,s=null;0<i.length&&(r=i[0],o=i[i.length-1]);for(var u=0;u<i.length;u++)if(i[u]===e){0===u?s=1<i[u].length&&i[u+1]:u===i.length-1?a=1<i[u].length&&i[u-1]:(a=i[u-1],s=i[u+1]);break}if(r===e)n.scrollLeft=0;else if(o===e)n.scrollLeft=n.scrollWidth-t;else{var c=s.$el.offsetLeft+s.$el.offsetWidth+4,l=a.$el.offsetLeft-4;c>n.scrollLeft+t?n.scrollLeft=c-t:l<n.scrollLeft&&(n.scrollLeft=l)}}},mounted:function(){var e=this.$refs.scrollContainer;e.$refs.wrap.removeEventListener(e.mouseWheelEvent,e.scrollMouseWheel)}};i.component(o.name,o);var a={name:"TagsView",template:'<div class="tags-view-container"><scroll-pane ref="scrollPane" class="tags-view-wrapper"><router-link v-for="tag in visitedViews" ref="tag" :class="isActive(tag)?\'active\':\'\'" :to="{ path: tag.path, query: tag.query, fullPath: tag.fullPath }" :key="tag.path" tag="span" class="tags-view-item" @click.middle.native="closeSelectedTag(tag)" @contextmenu.prevent.native="openMenu(tag,$event)"> {{ generateTitle(tag.title) }} <span class="vue-icon-close" :style="{display: closeBtnDisplay}" @click.prevent.stop="closeSelectedTag(tag)" />      </router-link></scroll-pane><ul v-show="visible" :style="{left:left+\'px\',top:top+\'px\'}" class="contextmenu"><li @click="refreshSelectedTag(selectedTag)">{{ $t(\'menu.tagsView.refresh\') }}</li><li @click="closeSelectedTag(selectedTag)">{{ $t(\'menu.tagsView.close\') }}</li><li @click="closeOthersTags">{{ $t(\'menu.tagsView.closeOthers\') }}</li><li @click="closeAllTags">{{ $t(\'menu.tagsView.closeAll\') }}</li></ul></div>',data:function(){return{visible:!1,top:0,left:0,selectedTag:{}}},computed:{visitedViews:function(){return MenuStore.state.tagsView.visitedViews},closeBtnDisplay:function(){var e=i.config.menu&&i.config.menu.homePageCode||"dashboard";return Array.isArray(this.visitedViews)&&1==this.visitedViews.length&&this.visitedViews[0].name==e?"none":"inline-block"}},watch:{$route:function(){this.addViewTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.addViewTags(),MenuStore.dispatch("initTagsView")},methods:{generateTitle:MenuUtils.generateTitle,isActive:function(e){return e.path===this.$route.path},addViewTags:function(){var e=this.$route.name;return e&&"router-error"!=e&&MenuStore.dispatch("addView",this.$route),!1},moveToCurrentTag:function(){var n=this,i=this.$refs.tag;this.$nextTick(function(){for(var e=0;e<i.length;e++){var t=i[e];if(t.to.path===n.$route.path){n.$refs.scrollPane.moveToTarget(t),t.to.fullPath!==n.$route.fullPath&&MenuStore.dispatch("updateVisitedView",n.$route);break}}})},refreshSelectedTag:function(t){if("iframe"==t.meta.type){var e="app-main-iframe-"+t.name;document.getElementById(e).src=document.getElementById(e).src}var n=this;MenuStore.dispatch("delCachedView",t).then(function(){var e=t.fullPath;n.$nextTick(function(){n.$router.replace({path:"/redirect"+e})})})},closeSelectedTag:function(i){var r=this;MenuStore.dispatch("delView",i).then(function(e){var t=e.visitedViews;if(r.isActive(i)){var n=t.slice(-1)[0];n?r.$router.push(n):r.$router.push("/")}})},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),MenuStore.dispatch("delOthersViews",this.selectedTag).then(function(){e.moveToCurrentTag()})},closeAllTags:function(){MenuStore.dispatch("delAllViews"),this.$router.push("/")},openMenu:function(e,t){var n=this.$el.getBoundingClientRect().left,i=this.$el.offsetWidth-105,r=t.clientX-n+15;this.left=i<r?i:r,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1}}};i.component(a.name,a);var s={name:"Avatar",template:'<vue-dropdown class="avatar-container right-menu-item" trigger="click"><div class="avatar-wrapper"><img :src="avatar" class="user-avatar"></div><vue-dropdown-menu><slot name="dropdown"></slot><vue-dropdown-item divided><span style="display:block;" @click="logout">{{ $t(\'menu.navbar.logOut\') }}</span></vue-dropdown-item></vue-dropdown-menu></vue-dropdown>',computed:{avatar:function(){return MenuStore.getters.avatar}},methods:{logout:function(){MenuStore.dispatch("LogOut").then(function(){location.reload()}).catch(function(e){})}}};i.component(s.name,s);var u={name:"AppMain",template:'<section class="app-main"><keep-alive :include="cachedViews"><router-view :key="key"></router-view></keep-alive><iframe v-for="view in iframeViews" :id="\'app-main-iframe-\' + view.name" class="app-main-iframe" :src="iframeUrl(view)" v-show="$router.currentRoute.name === view.name"></iframe>  </section>',computed:{cachedViews:function(){return MenuStore.state.tagsView.cachedViews},key:function(){return this.$route.fullPath},iframeViews:function(){if(MenuStore.getters.initTagsView)return MenuStore.state.tagsView.visitedViews.filter(function(e){return e.meta&&"iframe"===e.meta.type});var e=this.$route;return e&&e.meta&&"iframe"==e.meta.type?[VueUtil.merge({},e,{title:e.meta.title})]:[]}},methods:{iframeUrl:function(e){var t=e.params,n="";for(var i in t)""!=n&&(n+="&"),n+=i+"="+encodeURIComponent(t[i]);return n&&(n="?"+n),e.meta.url+n}}};i.component(u.name,u);var c={name:"SidebarItem",template:'<div v-if="!item.hidden&&item.children" class="menu-wrapper"><template v-if="hasOneShowingChild(item.children,item) && (!onlyOneChild.children||onlyOneChild.noShowingChildren)&&!item.alwaysShow"><app-link :to="resolvePath(onlyOneChild.path)" :link-route="onlyOneChild"><vue-menu-item :index="resolvePath(onlyOneChild.path)" :class="{\'submenu-title-noDropdown\':!isNest}"><i v-if="onlyOneChild.meta" :class="(onlyOneChild.meta.icon||(item.meta && item.meta.icon))"></i> <span v-if="onlyOneChild.meta" slot="title">{{generateTitle(onlyOneChild.meta.title)}}</span></vue-menu-item></app-link></template><vue-submenu v-else ref="submenu" :index="resolvePath(item.path)"><template slot="title"><i  v-if="item.meta" :class="item.meta.icon"></i> <span  v-if="item.meta" slot="title">{{generateTitle(item.meta.title)}}</span></template><template v-for="child in item.children" v-if="!child.hidden"><sidebar-item v-if="child.children&&child.children.length>0" :is-nest="true" :item="child" :key="child.path" :base-path="resolvePath(child.path)" class="nest-menu" /><app-link v-else :to="resolvePath(child.path)" :link-route="child" :key="child.name"><vue-menu-item :index="resolvePath(child.path)"><i v-if="child.meta" :class="child.meta.icon"></i> <span v-if="child.meta" slot="title">{{generateTitle(child.meta.title)}}</span></vue-menu-item></app-link></template></vue-submenu></div>',props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},data:function(){return{onlyOneChild:null}},computed:{device:function(){return MenuStore.state.app.device}},mounted:function(){this.fixBugIniOS()},methods:{hasOneShowingChild:function(e,t){var n=this,i=e.filter(function(e){return!e.hidden&&(n.onlyOneChild=e,!0)});return 1===i.length||0===i.length&&(this.onlyOneChild=VueUtil.merge({},t,{path:"",noShowingChildren:!0}),!0)},resolvePath:function(e){return this.isExternalLink(e)?e:path.resolve(this.basePath,e)},isExternalLink:function(e){return MenuUtils.isExternal(e)},fixBugIniOS:function(){var t=this,e=this.$refs.submenu;if(e){var n=e.handleMouseleave;e.handleMouseleave=function(e){"mobile"!==t.device&&n(e)}}},generateTitle:MenuUtils.generateTitle}};i.component(c.name,c);var l={name:"AppLink",template:'<component v-bind="linkProps(to)"><slot/></component>',props:{to:{type:String,required:!0},linkRoute:{type:Object,required:!0}},methods:{isExternalLink:function(e){return MenuUtils.isExternal(e)},linkProps:function(e){var t;return t=this.isExternalLink(e)?{is:"a",href:e,target:"_blank",rel:"noopener"}:{is:"router-link",to:e},this.linkRoute.meta&&("blank"===this.linkRoute.meta.target?t.target="_blank":"window"===this.linkRoute.meta.target&&(t.target="_blank",t.onclick="return MenuUtils.openMenuItemInWindow(this)",t.features=this.linkRoute.meta.features)),t}}};i.component(l.name,l);var d={name:"MenuItem",functional:!0,props:{icon:{type:String,default:""},title:{type:String,default:""}},render:function(e,t){var n=t.props.icon,i=t.props.title,r=[];return n&&r.push(e("i",{class:"vue-icon-"+n})),i&&r.push(e("span",{attrs:{slot:"title"}},i)),r}};i.component(d.name,d);var h={name:"Sidebar",template:'  <div class="sidebar-container">    <div ref="logoContainer" v-if="$slots.logo" class="sidebar-logo">        <slot v-if="!isCollapse || !$slots.miniLogo" name="logo"></slot>        <slot v-else name="miniLogo"></slot>    </div>    <component :is="needScroll" :height="menuHeight">                     <vue-menu       mode="vertical"       :show-timeout="200"       :collapse="isCollapse"       :default-active="$route.path"       theme="dark"    >      <sidebar-item v-for="route in permission_routers" :key="route.path" :item="route" :base-path="route.path"/>    </vue-menu>  </component></div>',data:function(){return{logoHeight:0}},computed:{permission_routers:function(){return MenuStore.getters.permission_routers},sidebar:function(){return MenuStore.getters.sidebar},isCollapse:function(){return!this.sidebar.opened},needScroll:function(){return this.isCollapse?"div":"vueScrollbar"},menuHeight:function(){return MenuStore.getters.height-this.logoHeight}},mounted:function(){this.logoHeight=this.$refs.logoContainer?this.$refs.logoContainer.offsetHeight:0}};i.component(h.name,h)});var viewsPath=Vue.config.menu&&Vue.config.menu.viewsPath||"views",homePageCode=Vue.config.menu&&Vue.config.menu.homePageCode||"dashboard",layoutPageCode=Vue.config.menu&&Vue.config.menu.layoutPageCode||"layout",Layout={template:"<layout></layout>",components:{layout:VueLoader(viewsPath+"/"+layoutPageCode+".html")}},Error404=VueLoader(viewsPath+"/errorPage/404.html"),Error401=VueLoader(viewsPath+"/errorPage/401.html"),Redirect={beforeCreate:function(){var e=this.$route.params,t=this.$route.query,n=e.path;this.$router.replace({path:"/"+n,query:t})},render:function(e){return e()}},constantRouterMap=[{path:"/redirect",component:Layout,hidden:!0,children:[{path:"/redirect/:path*",component:Redirect}]},{path:"/",component:Layout,hidden:!0,redirect:homePageCode,children:[{path:"/404",component:Error404,hidden:!0},{path:"/401",component:Error401,hidden:!0},{name:"router-error",path:"/router-error",hidden:!0,component:{template:"<pre>{{$route.params.error}}</pre>"}}]}];window.router=new VueRouter({mode:Vue.config.routerMode||"hash",scrollBehavior:function(){return{y:0}},routes:constantRouterMap}),NProgress.configure({showSpinner:!1}),router.onError(function(e){var t="string"==typeof e?e:e.message?e.message+"\r\n"+(e.stack||""):"Router System Error!";router.push({name:"router-error",params:{error:t}}),NProgress.done()}),router.beforeEach(function(t,e,n){NProgress.start(),0===MenuStore.getters.name.length?MenuStore.dispatch("GetUserInfo").then(function(e){MenuStore.dispatch("GenerateRoutes").then(function(){router.addRoutes(MenuStore.getters.addRouters),n(VueUtil.merge({},t,{replace:!0}))})}).catch(function(e){MenuStore._vm.$notify({message:("string"==typeof e?e:e.message)||"Verification failed, please login again",type:"error",position:"top-center"}),n({path:"/"})}):n()}),router.afterEach(function(){NProgress.done()});